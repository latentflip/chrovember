<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <title>HN Submit</title>
  <style>
    body {
      font-family: sans-serif;
      width: 300px;
      padding: 8px;
    }
    h1 {font-size: 1.2em; margin: 0; padding:0; display: inline;}
    label {width: 63px; float: left;}
    label:after { content:":";}
    input {width: 230px; float: left;}
    p, form {padding: 0; margin:0;}
    div.c { clear:both; height: 2px;}
    span.c { width: 63px; float: left; height: 2px;}
    .hr { clear: both; width: 100%; height: 1px; border-bottom: 2px solid #999; margin: 8px 0;}
  </style>
  <script src="jquery.js" type="text/javascript"></script>
</head>
<body>
  <span class="c"></span><h1>Submit to HN</h1>
  <div class="c"></div>
  <form id="options" method="get" action="http://news.ycombinator.com/submitlink">
    <label for="t">Title</label>
    <input id="t" type="text" name="t" />
    <div class="c"></div>
    <label for="u">Url</label>
    <input id="u" type="text" name="u" />
    <div class="c"></div>
    <span class="c"></span><input type="submit" value="Submit" />
  </form>
  <div class="c"></div>
</body>
<script>
  chrome.tabs.getSelected(null, function(tab){
    console.log(tab)
    console.log(tab.title)
    $("input#u").attr("value", tab.url)
    $("input#t").attr("value", tab.title)
  })
</script>
</html>